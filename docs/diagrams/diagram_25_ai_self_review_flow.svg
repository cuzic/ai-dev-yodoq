<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1300 910">
  <defs>
    <style>
      .title { font-family: 'Noto Sans JP', sans-serif; font-size: 90px; font-weight: bold; fill: #333333; }
      .step-title { font-family: 'Noto Sans JP', sans-serif; font-size: 74px; font-weight: bold; fill: white; }
      .step-text { font-family: 'Noto Sans JP', sans-serif; font-size: 54px; fill: white; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1000" height="700" fill="#FFFFFF"/>

  <!-- Title -->
  <text x="500" y="40" class="title" text-anchor="middle">AI自己レビューフロー（Trust but Verify）</text>

  <!-- Step 1: Implementation -->
  <rect x="100" y="80" width="200" height="140" fill="#00AFF0" rx="10"/>
  <text x="200" y="110" class="step-title" text-anchor="middle">1. 実装</text>
  <text x="200" y="135" class="step-title" text-anchor="middle" font-size="28">(AIがコード生成)</text>

  <text x="120" y="165" class="step-text">プロンプト例:</text>
  <text x="130" y="185" class="step-text">「ログイン機能を実装して。</text>
  <text x="130" y="202" class="step-text">BCrypt、JWT、環境変数、</text>
  <text x="130" y="219" class="step-text">@Valid必須」</text>

  <!-- Arrow 1 to 2 -->
  <line x1="300" y1="150" x2="360" y2="150" stroke="#00AFF0" stroke-width="4"/>
  <polygon points="360,150 350,145 350,155" fill="#00AFF0"/>
  <text x="330" y="140" style="font-family: 'Noto Sans JP', sans-serif; font-size: 54px; fill: #00146E; font-weight: bold;">
    コード完成
  </text>

  <!-- Step 2: Self Review -->
  <rect x="360" y="80" width="280" height="140" fill="#00146E" rx="10"/>
  <text x="500" y="110" class="step-title" text-anchor="middle">2. AI自己レビュー</text>
  <text x="500" y="135" class="step-title" text-anchor="middle" font-size="28">(必須プロセス)</text>

  <text x="380" y="165" class="step-text">プロンプト例:</text>
  <text x="390" y="185" class="step-text">「このコードをレビューして。</text>
  <text x="390" y="202" class="step-text">セキュリティ、エラー処理、</text>
  <text x="390" y="219" class="step-text">エッジケース、ベストプラクティス」</text>

  <!-- Arrow 2 to 3 -->
  <line x1="640" y1="150" x2="700" y2="150" stroke="#00146E" stroke-width="4"/>
  <polygon points="700,150 690,145 690,155" fill="#00146E"/>
  <text x="670" y="140" style="font-family: 'Noto Sans JP', sans-serif; font-size: 54px; fill: #00146E; font-weight: bold;">
    レビュー結果
  </text>

  <!-- Step 3: Bug Detection -->
  <rect x="700" y="80" width="200" height="140" fill="#003399" rx="10"/>
  <text x="800" y="110" class="step-title" text-anchor="middle">3. バグ検出</text>
  <text x="800" y="135" class="step-title" text-anchor="middle" font-size="28">(40-60%検出)</text>

  <text x="720" y="165" class="step-text">AIが指摘:</text>
  <text x="730" y="185" class="step-text">• エラーハンドリング不足</text>
  <text x="730" y="202" class="step-text">• N+1クエリ問題</text>
  <text x="730" y="219" class="step-text">• null チェック漏れ</text>

  <!-- Decision diamond -->
  <path d="M 500 280 L 580 340 L 500 400 L 420 340 Z" fill="#E6E6E6" stroke="#00146E" stroke-width="4"/>
  <text x="500" y="335" style="font-family: 'Noto Sans JP', sans-serif; font-size: 64px; fill: #00146E; text-anchor: middle; font-weight: bold;">
    問題あり？
  </text>
  <text x="500" y="355" style="font-family: 'Noto Sans JP', sans-serif; font-size: 54px; fill: #00146E; text-anchor: middle;">
    (10-60%の確率)
  </text>

  <!-- Arrow from bug detection to decision -->
  <line x1="800" y1="220" x2="800" y2="340" stroke="#003399" stroke-width="4"/>
  <line x1="800" y1="340" x2="580" y2="340" stroke="#003399" stroke-width="4"/>
  <polygon points="580,340 590,335 590,345" fill="#003399"/>

  <!-- Yes path: Fix -->
  <line x1="420" y1="340" x2="260" y2="340" stroke="#CC0000" stroke-width="4"/>
  <polygon points="260,340 270,335 270,345" fill="#CC0000"/>
  <text x="340" y="330" style="font-family: 'Noto Sans JP', sans-serif; font-size: 60px; fill: #CC0000; font-weight: bold;">
    Yes
  </text>

  <!-- Step 4: Fix -->
  <rect x="100" y="280" width="200" height="120" fill="#CC0000" rx="10"/>
  <text x="200" y="310" class="step-title" text-anchor="middle">4. 修正</text>
  <text x="200" y="335" class="step-title" text-anchor="middle" font-size="28">(AIが自己修正)</text>

  <text x="120" y="365" class="step-text">プロンプト例:</text>
  <text x="130" y="385" class="step-text">「指摘事項を修正して」</text>

  <!-- Arrow from fix back to review -->
  <line x1="200" y1="280" x2="200" y2="220" stroke="#CC0000" stroke-width="4"/>
  <polygon points="200,220 195,230 205,230" fill="#CC0000"/>
  <text x="220" y="250" style="font-family: 'Noto Sans JP', sans-serif; font-size: 54px; fill: #CC0000; font-weight: bold;">
    再レビュー
  </text>

  <!-- No path: Complete -->
  <line x1="500" y1="400" x2="500" y2="480" stroke="#00AA00" stroke-width="4"/>
  <polygon points="500,480 495,470 505,470" fill="#00AA00"/>
  <text x="520" y="440" style="font-family: 'Noto Sans JP', sans-serif; font-size: 60px; fill: #00AA00; font-weight: bold;">
    No (問題なし)
  </text>

  <!-- Step 5: Complete -->
  <rect x="350" y="480" width="300" height="100" fill="#00AA00" rx="10"/>
  <text x="500" y="510" class="step-title" text-anchor="middle">5. 完了</text>
  <text x="500" y="535" class="step-title" text-anchor="middle" font-size="28">(テスト実行 → コミット)</text>

  <text x="370" y="565" class="step-text">• 全テスト実行して確認</text>
  <text x="370" y="582" class="step-text">• Gitコミット</text>

  <!-- Statistics box -->
  <rect x="50" y="610" width="900" height="70" fill="#E6E6E6" stroke="#00146E" stroke-width="3" rx="10"/>
  <text x="500" y="640" style="font-family: 'Noto Sans JP', sans-serif; font-size: 74px; fill: #00146E; text-anchor: middle; font-weight: bold;">
    AI自己レビューの効果
  </text>
  <text x="500" y="665" style="font-family: 'Noto Sans JP', sans-serif; font-size: 64px; fill: #333333; text-anchor: middle;">
    AIのエラー率10-60% → 自己レビューで40-60%検出 → 追加コストほぼゼロ（5秒）→ 人間の負担大幅削減
  </text>
</svg>
