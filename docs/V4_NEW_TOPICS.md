# v4で追加された内容（v3にないトピック）

## 概要
- **v3**: 約1,650行（Day 1-2の2日間セミナー形式）
- **v4**: 約6,900行（8パート構成、約5時間の単日セミナー形式）
- **追加内容**: 約216トピック、詳細度が約4倍

---

## Part 2: Claude Codeの実践的使い方（v3にほぼ存在しない）

### 1. Claude Codeの詳細比較
- **他ツールとの比較表**
  - ChatGPT/Web版 vs Cursor/Copilot vs Claude Code
  - 動作環境、ファイルアクセス、操作範囲、Git統合の比較
  - 使い分けガイド

### 2. 3つのモードの詳細説明
- **通常モード**: 毎回確認（y/n）
- **YOLOモード**（Shift+Tab）
  - 自動実行
  - 使用条件（Git必須、タスク明確）
  - 使わない場面（本番環境、重要ファイル）
  - 詳細なワークフロー例
- **プランモード**（Shift+Tab×2）
  - 計画→確認→実行
  - 大規模タスクでの効果
  - 事前確認で手戻り防止
  - 実践例

### 3. 便利な機能一覧（v3では簡潔のみ）
- **Web検索機能**: 最新情報取得（Next.js 15など）
- **スクリーンショット機能**: D&D、UIバグ報告
- **モデル切替**: `/model opus` / `/model sonnet`
- **履歴圧縮**: `/compact`
- **セッション再開**: `--resume`
- **メッセージキュー**: 連続入力で待ち時間短縮

### 4. トラブルシューティング詳細
- **「ファイルが多すぎる」エラー**
  - 原因（node_modules、dist、.git）
  - .claudeignore詳細設定
  - 確認方法（`claude --list-files`）
- **「トークン制限」エラー**
  - 原因（会話履歴長すぎる）
  - 4つの対処法（圧縮、分割、新セッション、ドキュメント化）
- **AIが間違った方向に進む問題**
  - 早期停止方法（`n`）
  - 明確な再指示
  - プランモードで事前確認

### 5. 効率的な指示の出し方（v3より詳細）
- ❌ 悪い指示の具体例
- ✅ 良い指示の具体例（制約明示、段階的、質問促す）
- 段階的に進める重要性（一度に全部×、1機能ずつ○）
- 確認しながら進める（4つの確認ポイント）

### 6. ワークフロー実践パターン
- 開発の流れ（6ステップ）
- 毎回繰り返すサイクル
- コミットメッセージ自動生成

---

## Part 3: STEP1 要件定義（v3より大幅に詳細化）

### 1. 要件の引き出し方（2つのアプローチ）
- **アプローチ1: ブレインダンプ**（v3にも存在）
- **アプローチ2: 文字起こしからの要件定義**（v3にない）
  - 向いているケース（クライアント依頼、チーム、ステークホルダー）
  - ワークフロー（録音→文字起こし→AI抽出）
  - 実践例（CRMシステムの会話例）
  - ステップ1-4の詳細手順
  - 不明点のクライアント確認方法

### 2. 正常フロー以外のヒアリング（v3にない）
- **3つの観点**
  - エラーケース（うまくいかない場合）
  - エッジケース（特殊な状況・境界値）
  - 制約条件（システムの限界）
- AIに一度に依頼する方法
- ログイン機能の具体例

### 3. 10分間ブレインダンプの詳細テクニック（v3より詳細）
- タイマー使用
- 判断せずに書き出す
- 質より量
- カテゴリ分けは後回し
- デジタルツールのススメ

### 4. MoSCoW 優先順位付け（v3にも存在するが詳細化）
- Must/Should/Could/Won't の詳細定義
- 実践例（ToDoアプリ）
- 判断のコツ（3つの質問）

### 5. ユーザーストーリーマッピング（v3にない）
- 構造（エピック→ストーリー→タスク）
- 実例（ECサイト）
- ツール紹介（Miro、FigJam、Notion）

### 6. プロトタイプ駆動開発とVibe Coding（v3にない）
- **Vibe Coding: ビジュアルプロトタイピング**
  - v0.devでプロトタイプ生成
  - 見た目を見ながら調整
  - プロトタイプから要件ドキュメントへ
- ワークフロー（3ステップ）
- プロトタイプ→要件抽出の実践例

### 7. AIへの要件伝達テンプレート（v3にない）
- 詳細なテンプレート構造
- 各セクションの記入例

### 8. 実践: Claude Codeでの要件定義（v3にない）
- 実際のプロンプト例
- AI出力例

### 9. 要件定義の落とし穴と対策（v3にない）
- 曖昧な表現を使う
- エラーケースを考えない
- 技術選定を後回しにする
- 非機能要件を無視する

### 10. 要件定義チェックリスト（v3にない）
- 8項目の詳細チェックリスト

---

## Part 4: STEP2 設計ドキュメント作成（v3より詳細化）

### 1. Mermaid記法による図の作成（v3では簡潔のみ）
- **Mermaid記法とは？**
  - テキストで図を描く
  - Git管理可能
  - AIが自動生成可能
- **Mermaidの表示環境**
  - GitHub自動表示
  - VS Code拡張機能
  - Markdown Preview Enhanced
- **4種類の図の詳細**
  - シーケンス図（実例付き）
  - ER図（実例付き）
  - クラス図（実例付き）
  - アクティビティ図/フローチャート（実例付き）
- **AIによるMermaid図の自動生成**
  - プロンプト例
  - 生成例
- **Mermaidのメリット**
  - テキストで管理
  - Git差分管理
  - AI自動生成
  - ツール不要
- **実践的な使い方**
  - 設計時にMermaid図を生成
  - ドキュメントに埋め込み
  - 変更時に自動更新
- **VS CodeでのMermaidプレビュー**
  - 拡張機能インストール
  - プレビュー表示方法
- **GitHubでのMermaid表示**
  - 自動レンダリング

### 2. データベース設計 - 実例（v3より詳細）
- テーブル定義の詳細例
- リレーションシップの説明

### 3. API設計 - 実例（v3より詳細）
- エンドポイント定義
- リクエスト/レスポンス例

### 4. 受入条件（BDD形式）（v3より詳細）
- Given-When-Then形式の詳細例
- 複数シナリオ

### 5. Claude Codeでの設計ドキュメント作成（v3にない）
- 実際のプロンプト例
- AI出力例

### 6. 設計ドキュメントチェックリスト（v3にない）
- 10項目の詳細チェックリスト

---

## Part 5: STEP3 タスク分解（v3とほぼ同等だが、一部追加）

### 1. 小規模 vs 大規模プロジェクト判断基準（v3にない）
- 明確な判断基準（3-5タスク vs 5タスク以上）

### 2. タスク一覧を明示的に作るメリット（v3より詳細）
- 4つのメリット

### 3. 実装してから修正 vs 計画段階で修正（v3にない）
- コスト比較（5時間 vs 15分）

### 4. タスク一覧テンプレート（v3にない）
- Markdown形式のテンプレート

### 5. 依存関係の可視化（v3にない）
- Mermaid図での表現
- 実例

### 6. タスク管理のベストプラクティス（v3にない）
- 6つの実践的アドバイス

### 7. 実践例: ToDoアプリのタスク分解（v3にない）
- 完全な実例

### 8. よくある問題３つ（v3にない）
- タスクが大きすぎる
- 依存関係が不明確
- Phase分けしていない

---

## Part 6: STEP4 実装（v3より大幅に詳細化）

### 1. セキュリティベストプラクティス（v3より詳細）
- **環境変数管理の完全ガイド**
  - 3ステップ（.env作成、.gitignore追加、.env.example作成）
  - 各ステップの詳細手順
- **パスワード・秘密情報の扱い**
  - ❌ 悪い例（詳細）
  - ✅ 良い例（詳細）
- **JWT シークレットキーの管理**
  - 生成方法（`openssl rand -base64 32`）
  - 管理方法
- **データベース接続情報**
  - 環境変数での管理例
- **本番環境のセキュリティ**
  - HTTPS必須
  - セキュリティヘッダー設定（Helmet）
  - レート制限（express-rate-limit）
  - 入力値のバリデーション（Joi、express-validator）
- **セキュアなコードの指示方法**
  - 詳細なプロンプト例

### 2. AI自己レビュー必須化（v3より詳細）
- **自己レビューの実例**
  - Before/Afterの詳細コード例
- **レビューのタイミングと種類**
  - 4種類のレビュー（一般、セキュリティ、パフォーマンス、テスト）
  - 各レビューのプロンプト例

### 3. タスク完了チェックリスト（v3より詳細）
- 6項目の詳細チェックリスト

### 4. よくある問題と対処法（トラブルシューティング）（v3にない）
- **テストが失敗する**
  - 原因と対処法
- **依存関係のエラー**
  - 原因と対処法
- **パフォーマンス問題**
  - 原因と対処法
- **ブラウザDevToolsとの併用**
  - Console、Network、Elementsの使い方
- **ログの活用**
  - デバッグ方法

### 5. テストカバレッジ（v3にない）
- カバレッジツールの使い方
- 目標設定（80%以上）
- カバレッジレポートの読み方

### 6. スクリーンショットデバッグ詳細（v3より詳細）
- **スクリーンショットの撮り方**
  - OS別ショートカット
- **Claude Codeにスクリーンショット送信**
  - ドラッグ&ドロップ方法
- **スクリーンショットデバッグの例**
  - Before/After
- **UIバグに特に有効**
  - レイアウト崩れ、色違い、フォント問題

### 7. Git管理のベストプラクティス（v3より詳細）
- コミット頻度（1機能1コミット）
- コミットメッセージ（Conventional Commits）
- ブランチ戦略（feature/fix/refactor）

### 8. YOLO Mode の活用（v3にない）
- 使用条件
- 効果的な場面
- リスク管理

---

## Part 7: STEP5 ドキュメント作成（v3はSTEP6に相当、より詳細化）

### 1. Living Documentation の概念（v3より詳細）
- 従来のドキュメント vs Living Documentation
- 3つの原則

### 2. ドキュメント構成（v3より詳細）
- 4種類のドキュメント（architecture.md、README.md、CLAUDE.md、ADR）

### 3. architecture.md の自動生成（v3より詳細）
- **architecture.md の構造例**
  - プロジェクト概要
  - システムアーキテクチャ図（Mermaid）
  - ディレクトリ構造
  - 技術スタック
  - 設計判断の記録
- プロンプト例

### 4. README.md の作成（v3より詳細）
- **README.md テンプレート**
  - プロジェクト概要
  - セットアップ手順
  - 使い方
  - 開発ガイド
  - トラブルシューティング

### 5. BDDテスト = 実行可能な仕様書（v3にない）
- Given-When-Thenがドキュメントになる
- 実例

### 6. ドキュメント更新フロー（v3より詳細）
- 実装→ドキュメント更新→コミットのサイクル

### 7. ドキュメント化のベストプラクティス（v3にない）
- 5つの実践的アドバイス

### 8. Architecture Decision Record (ADR)（v3にない）
- **ADRとは**
  - 設計判断の記録
  - なぜその技術を選んだか
- **ADR-001: JWT認証の採用（例）**
  - ステータス、コンテキスト、決定、結果
- フォーマット
- 命名規則（ADR-001, ADR-002...）

---

## Part 8: まとめと今後の学習（v3にない、完全新規）

### 1. AI活用の8原則（v3では3原則のみ）
1. Jagged Intelligence（v3にも存在）
2. Trust but Verify（v3にも存在）
3. Guardrails（v3にも存在）
4. **コンテキスト管理**（v3で部分的）
5. **段階的に進める**（v3で部分的）
6. **AI自己レビュー必須**（v3にも存在）
7. **セキュリティファースト**（v3にも存在）
8. **ドキュメント駆動**（v3にも存在）

### 2. よくある失敗と対策（Top 5）（v3でも存在するが詳細化）
- 各失敗パターンの詳細な原因分析
- 具体的な対策手順

### 3. 成功パターン7要素（v3にない）
1. 明確な要件定義
2. 設計ドキュメント作成
3. タスク分解
4. インクリメンタル開発
5. AI自己レビュー
6. テスト駆動開発
7. Living Documentation

### 4. 今後の学習ロードマップ（v3より詳細）
- **ステップ1: 小さなプロジェクトを3つ作る**
  - TODOアプリ、ブログシステム、メモアプリ
  - 各プロジェクトで学ぶこと
- **ステップ2: 中規模プロジェクトに挑戦**
  - ECサイト、SNS、予約システム
  - 学ぶ技術
- **ステップ3: 既存プロジェクトのリファクタリング**
  - レガシーコードの改善
  - テスト追加
- **ステップ4: チーム開発・プロセス改善**
  - コードレビュー
  - CI/CD構築

### 5. 実践的なアドバイス（v3にない）
- 毎日30分のClaude Code実践
- 小さな成功を積み重ねる
- コミュニティに参加する
- 失敗を恐れない

### 6. Claude Codeを超えて（v3にない）
- 他のAIツールとの組み合わせ
- GitHub Copilot、Cursor、v0.dev
- ツールの使い分け

### 7. 次のアクション（今日から）（v3にない）
- 3つの具体的なアクション

### 8. Claude Code インストール（v3にない）
- 詳細なインストール手順

### 9. プロジェクト作成（v3にない）
- 初めてのプロジェクト作成手順

### 10. セミナーの振り返り（v3にない）
- 5-STEPの再確認
- キーポイントの強調

### 11. 持ち帰ってほしいこと（v3にない）
- 3つの重要メッセージ

### 12. よくある質問（FAQ）（v3にない）
- **Q1: Claude Code は無料？**
- **Q2: プログラミング初心者でも使える？**
- **Q3: チーム開発でも使える？**
- **Q4: 既存プロジェクトに導入できる？**
- **Q5: 他のAIツールと併用できる？**

### 13. 参考資料（v3にない）
- **公式ドキュメント**
  - Claude Code公式
  - Anthropic API
  - Prompt Engineering Guide
- **推薦書籍**
  - Clean Code
  - The Pragmatic Programmer
  - Working Effectively with Legacy Code
- **コミュニティ**
  - Discord、Reddit、Twitter

### 14. 実践的なワークフロー例（v3にない）
- **小規模プロジェクト（1週間）**
  - Day 1: 要件定義
  - Day 2-3: 実装
  - Day 4: テスト
  - Day 5: ドキュメント
- **中規模プロジェクト（1ヶ月）**
  - Week 1: 設計
  - Week 2-3: 実装
  - Week 4: テスト・デプロイ

---

## 主要な構造的違い

### v3の構造
- **Day 1-1**: Introduction + Claude Code + STEP1-2
- **Day 1-2**: STEP3-6
- **Day 1-3**: まとめ + 演習
- **Day 2-1**: リバースエンジニアリング + テストシナリオ
- **Day 2-2**: 演習 + まとめ

### v4の構造
- **Part 1**: イントロダクション（40トピック）
- **Part 2**: Claude Code実践（11トピック）← **v3にほぼ存在しない**
- **Part 3**: 要件定義（35トピック）← v3より3倍詳細
- **Part 4**: 設計ドキュメント（27トピック）← v3より2倍詳細
- **Part 5**: タスク分解（17トピック）← v3とほぼ同等
- **Part 6**: 実装（41トピック）← v3より3倍詳細
- **Part 7**: ドキュメント（15トピック）← v3より2倍詳細
- **Part 8**: まとめ（30トピック）← **v3にほぼ存在しない**

---

## v3に存在しないが、v4で重要な追加トピック（Top 20）

1. **文字起こしからの要件定義**（Part 3）
2. **プロトタイプ駆動開発とVibe Coding**（Part 3）
3. **ユーザーストーリーマッピング**（Part 3）
4. **正常フロー以外のヒアリング（エラー・エッジケース・制約）**（Part 3）
5. **Mermaid記法による図の作成（4種類の詳細）**（Part 4）
6. **Mermaid図のVS Code/GitHubでの表示方法**（Part 4）
7. **Claude Codeの3つのモード詳細（通常/YOLO/プラン）**（Part 2）
8. **YOLOモード使用条件と実践例**（Part 2）
9. **プランモードの効果と使い方**（Part 2）
10. **Web検索機能の活用**（Part 2）
11. **スクリーンショットデバッグの詳細手順**（Part 2, Part 6）
12. **モデル切替とメッセージキュー**（Part 2）
13. **トラブルシューティング詳細（3大エラー対処法）**（Part 2）
14. **環境変数管理の完全ガイド**（Part 6）
15. **本番環境セキュリティ（HTTPS/ヘッダー/レート制限/バリデーション）**（Part 6）
16. **AI自己レビューの4種類（一般/セキュリティ/パフォーマンス/テスト）**（Part 6）
17. **Architecture Decision Record (ADR)**（Part 7）
18. **BDDテスト = 実行可能な仕様書**（Part 7）
19. **今後の学習ロードマップ（4ステップ）**（Part 8）
20. **よくある質問（FAQ）5問**（Part 8）

---

## v4で削除/簡略化された内容（v3にあるがv4にない）

1. **2日目の内容（リバースエンジニアリング）**
   - v3のDay 2-1全体
   - 既存システムへの機能追加
   - デグレ防止テスト
   - テストシナリオ一覧作成
   - 影響範囲調査

2. **2日目の演習**
   - v3のDay 2-2全体
   - 既存システム分析
   - マスター追加/項目追加/検索条件追加の3課題

3. **成果発表・ディスカッション**
   - v3のDay 2-2に存在

---

## まとめ

**v4の特徴:**
- **単日5時間セミナー**（v3は2日間）
- **新規開発に特化**（v3のDay 2保守開発を削除）
- **実践的な詳細が大幅増**（プロンプト例、コード例、手順が具体的）
- **Claude Code使い方が独立Part**（v3では統合）
- **FAQとロードマップ追加**（実務適用支援）

**v3の特徴:**
- **2日間セミナー**（1日目=新規、2日目=保守）
- **リバースエンジニアリング含む**（v4にない）
- **演習中心**（Day 1-3, Day 2-2）
- **簡潔で全体像重視**（v4は詳細重視）
