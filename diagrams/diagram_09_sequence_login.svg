<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1040 1150">
  <rect width="1040" height="1150" fill="#FFF"/>
  <text x="520" y="45" style="font-size: 56px; font-weight: bold; fill: #333; text-anchor: middle;">ログイン機能シーケンス図</text>

  <text x="120" y="135" style="font-size: 48px; font-weight: bold; fill: #00146E;">ユーザー</text>
  <text x="340" y="110" style="font-size: 48px; font-weight: bold; fill: #00146E;">フロント</text>
  <text x="340" y="173" style="font-size: 48px; font-weight: bold; fill: #00146E;">エンド</text>
  <text x="560" y="141" style="font-size: 48px; font-weight: bold; fill: #00146E;">API</text>
  <text x="780" y="141" style="font-size: 48px; font-weight: bold; fill: #00146E;">DB</text>

  <line x1="120" y1="180" x2="120" y2="1050" stroke="#E6E6E6" stroke-width="3" stroke-dasharray="5,5"/>
  <line x1="360" y1="180" x2="360" y2="870" stroke="#E6E6E6" stroke-width="3" stroke-dasharray="5,5"/>
  <line x1="560" y1="180" x2="560" y2="870" stroke="#E6E6E6" stroke-width="3" stroke-dasharray="5,5"/>
  <line x1="780" y1="180" x2="780" y2="870" stroke="#E6E6E6" stroke-width="3" stroke-dasharray="5,5"/>

  <line x1="120" y1="225" x2="360" y2="225" stroke="#00146E" stroke-width="3"/>
  <polygon points="360,225 350,220 350,230" fill="#00146E"/>
  <text x="240" y="205" style="font-size: 42px; fill: #333; text-anchor: middle;">1. メール・</text>
  <text x="240" y="260" style="font-size: 42px; fill: #333; text-anchor: middle;">パスワード入力</text>

  <line x1="360" y1="315" x2="560" y2="315" stroke="#00146E" stroke-width="3"/>
  <polygon points="560,315 550,310 550,320" fill="#00146E"/>
  <text x="460" y="295" style="font-size: 42px; fill: #333; text-anchor: middle;">2. POST</text>
  <text x="460" y="350" style="font-size: 42px; fill: #333; text-anchor: middle;">/api/login</text>

  <line x1="560" y1="405" x2="780" y2="405" stroke="#00AFF0" stroke-width="3"/>
  <polygon points="780,405 770,400 770,410" fill="#00AFF0"/>
  <text x="670" y="383" style="font-size: 42px; fill: #333; text-anchor: middle;">3. SELECT</text>
  <text x="670" y="440" style="font-size: 42px; fill: #333; text-anchor: middle;">user</text>

  <line x1="780" y1="501" x2="560" y2="501" stroke="#00AFF0" stroke-width="3" stroke-dasharray="3,3"/>
  <polygon points="560,501 570,496 570,506" fill="#00AFF0"/>
  <text x="670" y="496" style="font-size: 42px; fill: #333; text-anchor: middle;">4. user情報</text>

  <rect x="530" y="545" width="60" height="170" fill="#003399"/>
  <text x="560" y="575" style="font-size: 40px; fill: white; text-anchor: middle;">パスワード</text>
  <text x="560" y="630" style="font-size: 40px; fill: white; text-anchor: middle;">検証</text>
  <text x="560" y="685" style="font-size: 40px; fill: white; text-anchor: middle;">(bcrypt)</text>

  <rect x="530" y="735" width="60" height="50" fill="#00AFF0"/>
  <text x="560" y="765" style="font-size: 38px; fill: white; text-anchor: middle;">JWT生成</text>

  <line x1="560" y1="830" x2="360" y2="830" stroke="#00AFF0" stroke-width="3" stroke-dasharray="3,3"/>
  <polygon points="360,830 370,825 370,835" fill="#00AFF0"/>
  <text x="460" y="810" style="font-size: 42px; fill: #333; text-anchor: middle;">7. 200 OK</text>
  <text x="460" y="865" style="font-size: 42px; fill: #333; text-anchor: middle;">+ JWT</text>

  <line x1="360" y1="920" x2="120" y2="920" stroke="#00AFF0" stroke-width="3" stroke-dasharray="3,3"/>
  <polygon points="120,920 130,915 130,925" fill="#00AFF0"/>
  <text x="240" y="900" style="font-size: 42px; fill: #333; text-anchor: middle;">8. ダッシュ</text>
  <text x="240" y="955" style="font-size: 42px; fill: #333; text-anchor: middle;">ボードへ</text>

  <line x1="560" y1="1010" x2="360" y2="1010" stroke="#66D9FF" stroke-width="3" stroke-dasharray="5,5"/>
  <polygon points="360,1010 370,1005 370,1015" fill="#66D9FF"/>
  <text x="460" y="1000" style="font-size: 42px; fill: #66D9FF; text-anchor: middle;">エラー: 401</text>

  <rect x="80" y="1060" width="880" height="100" fill="#E6E6E6" rx="5"/>
  <text x="520" y="1083" style="font-size: 46px; fill: #00146E; text-anchor: middle; font-weight: bold;">効果: 処理順序の明確化</text>
  <text x="520" y="1143" style="font-size: 46px; fill: #00146E; text-anchor: middle; font-weight: bold;">→ AIが正確に実装</text>
</svg>
