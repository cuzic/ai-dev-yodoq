<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1560 650">
  <defs>
    <style>
      .title { font-family: 'Noto Sans JP', sans-serif; font-size: 48px; font-weight: bold; fill: #333333; }
      .step-title { font-family: 'Noto Sans JP', sans-serif; font-size: 44px; font-weight: bold; fill: white; }
      .step-text { font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: white; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1200" height="500" fill="#FFFFFF"/>

  <!-- Title -->
  <text x="600" y="35" class="title" text-anchor="middle">リバースエンジニアリングのプロセス</text>

  <!-- Step 1: Existing Code -->
  <rect x="30" y="80" width="180" height="300" fill="#E6E6E6" stroke="#333333" stroke-width="3" rx="10"/>
  <text x="120" y="110" style="font-family: 'Noto Sans JP', sans-serif; font-size: 44px; fill: #00146E; text-anchor: middle; font-weight: bold;">1. 既存コード</text>
  <text x="50" y="145" style="font-family: 'Noto Sans JP', sans-serif; font-size: 36px; fill: #333333;">入力:</text>
  <text x="60" y="170" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• ソースコード</text>
  <text x="60" y="190" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• テーブル定義</text>
  <text x="60" y="210" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• 設定ファイル</text>
  <text x="60" y="230" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• 既存ドキュメント</text>
  <text x="60" y="270" style="font-family: 'Noto Sans JP', sans-serif; font-size: 30px; fill: #666666;">※仕様書がない</text>
  <text x="60" y="285" style="font-family: 'Noto Sans JP', sans-serif; font-size: 30px; fill: #666666;">　ケースが多い</text>

  <!-- Arrow -->
  <line x1="210" y1="230" x2="240" y2="230" stroke="#00146E" stroke-width="4"/>
  <polygon points="240,230 230,225 230,235" fill="#00146E"/>

  <!-- Step 2: Claude Code -->
  <rect x="240" y="80" width="180" height="300" fill="#00146E" rx="10"/>
  <text x="330" y="110" class="step-title" text-anchor="middle">2. Claude Code</text>
  <text x="330" y="135" class="step-title" text-anchor="middle" font-size="16">読み込み</text>
  <text x="260" y="170" class="step-text">プロジェクト全体:</text>
  <text x="270" y="190" class="step-text">• スキャン</text>
  <text x="270" y="210" class="step-text">• .claudeignore</text>
  <text x="270" y="230" class="step-text">　で除外設定</text>
  <text x="270" y="260" class="step-text">• トークン最適化</text>

  <!-- Arrow -->
  <line x1="420" y1="230" x2="450" y2="230" stroke="#00AFF0" stroke-width="4"/>
  <polygon points="450,230 440,225 440,235" fill="#00AFF0"/>

  <!-- Step 3: AI Analysis -->
  <rect x="450" y="80" width="180" height="300" fill="#00AFF0" rx="10"/>
  <text x="540" y="110" class="step-title" text-anchor="middle">3. AI分析</text>
  <text x="470" y="150" class="step-text">処理:</text>
  <text x="480" y="175" class="step-text">• 構造理解</text>
  <text x="480" y="195" class="step-text">• パターン抽出</text>
  <text x="480" y="215" class="step-text">• 依存関係把握</text>
  <text x="480" y="235" class="step-text">• 設計意図推測</text>
  <text x="480" y="265" class="step-text">• 技術スタック</text>
  <text x="480" y="285" class="step-text">　識別</text>

  <!-- Arrow -->
  <line x1="630" y1="230" x2="660" y2="230" stroke="#003399" stroke-width="4"/>
  <polygon points="660,230 650,225 650,235" fill="#003399"/>

  <!-- Step 4: Document Generation -->
  <rect x="660" y="80" width="180" height="300" fill="#003399" rx="10"/>
  <text x="750" y="110" class="step-title" text-anchor="middle">4. ドキュメント</text>
  <text x="750" y="133" class="step-title" text-anchor="middle" font-size="16">生成</text>
  <text x="680" y="165" class="step-text">出力:</text>
  <text x="690" y="185" class="step-text">• architecture.md</text>
  <text x="690" y="205" class="step-text">• requirements.md</text>
  <text x="690" y="225" class="step-text">• OpenAPI仕様</text>
  <text x="690" y="245" class="step-text">• テーブル定義書</text>
  <text x="690" y="275" class="step-text" font-weight="bold">= Guardrails構築</text>

  <!-- Arrow -->
  <line x1="840" y1="230" x2="870" y2="230" stroke="#00146E" stroke-width="4"/>
  <polygon points="870,230 860,225 860,235" fill="#00146E"/>

  <!-- Step 5: New Feature -->
  <rect x="870" y="80" width="300" height="300" fill="#E6E6E6" stroke="#00146E" stroke-width="3" rx="10"/>
  <text x="1020" y="110" style="font-family: 'Noto Sans JP', sans-serif; font-size: 44px; fill: #00146E; text-anchor: middle; font-weight: bold;">5. 新機能追加</text>
  <text x="890" y="150" style="font-family: 'Noto Sans JP', sans-serif; font-size: 36px; fill: #333333;">仕様に基づいて実装:</text>
  <text x="900" y="175" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• 既存仕様を理解した上で</text>
  <text x="900" y="195" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• デグレ防止テスト作成</text>
  <text x="900" y="215" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• 整合性のある実装</text>
  <text x="900" y="235" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: #333333;">• 既存パターンに従う</text>

  <rect x="890" y="260" width="260" height="100" fill="#00146E" rx="5"/>
  <text x="1020" y="285" style="font-family: 'Noto Sans JP', sans-serif; font-size: 38px; fill: white; text-anchor: middle; font-weight: bold;">効果:</text>
  <text x="1020" y="310" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: white; text-anchor: middle;">デグレ防止</text>
  <text x="1020" y="330" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: white; text-anchor: middle;">既存システムとの整合性</text>
  <text x="1020" y="350" style="font-family: 'Noto Sans JP', sans-serif; font-size: 32px; fill: white; text-anchor: middle;">適切な機能追加</text>

  <!-- Bottom note -->
  <rect x="30" y="410" width="1140" height="60" fill="#FFFFFF" stroke="#00146E" stroke-width="3" rx="10"/>
  <text x="600" y="440" style="font-family: 'Noto Sans JP', sans-serif; font-size: 44px; fill: #00146E; text-anchor: middle; font-weight: bold;">
    ドキュメント化 = AIの外部メモリ構築 = 知見の蓄積
  </text>
  <text x="600" y="460" style="font-family: 'Noto Sans JP', sans-serif; font-size: 36px; fill: #333333; text-anchor: middle;">
    仕様書がないシステムでも、リバースエンジニアリングでGuardrailsを構築できる
  </text>
</svg>
