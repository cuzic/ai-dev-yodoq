# SVG 縦横比ガイド - 情報量の多い読みやすいスライド

**作成日:** 2025-10-31
**目的:** 各レイアウトで余白を最小化し、情報密度を最大化するための最適なSVG縦横比を計算

---

## 📐 レイアウトごとの最適SVGサイズ

### 前提条件

- スライドサイズ: **1280px × 720px** (16:9)
- フォントサイズ: 16-18px（本文）、24-32px（見出し）
- 目標: 余白を最小化、情報密度を最大化、可読性を維持

---

## 1. Default Layout（デフォルトレイアウト）

### 利用可能スペース計算

```
スライド幅: 1280px
スライド高: 720px
左右パディング: 50px × 2 = 100px
上下余白:
  - タイトル: 60px
  - パディング: 30px × 2 = 60px

画像エリア:
  - 幅: 1280px × 70% = 896px
  - 高: 720px × 45% (vh) = 324px
```

### 最適アスペクト比

**推奨: 2.5:1 ~ 2.8:1 (ウルトラワイド)**

| 推奨サイズ | アスペクト比 | 用途 |
|-----------|------------|------|
| **850×350** | 2.43:1 | 標準（バランス型） |
| 900×350 | 2.57:1 | フローチャート |
| 800×350 | 2.29:1 | 図解多め |

### 実装推奨

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850 350">
  <!-- 内部パディング: 30px -->
  <!-- 実効描画エリア: 790×290 -->
</svg>
```

### 情報密度ガイドライン

- **テキストサイズ**: 14-18px
- **要素間隔**: 20px
- **最大要素数**: 5-8個
- **線の太さ**: 2-3px（メイン）、1px（補助）

---

## 2. Horizontal Layout（横配置レイアウト）

### 利用可能スペース計算

```
画像カラム幅: 1280px × 55% = 704px
カラム高: 720px - 60px (title) = 660px

実際の画像エリア:
  - 幅: 704px × 90% = 634px
  - 高: 720px × 55% (vh) = 396px
```

### 最適アスペクト比

**推奨: 1.5:1 ~ 1.7:1 (16:9に近い)**

| 推奨サイズ | アスペクト比 | 用途 |
|-----------|------------|------|
| **640×400** | 1.60:1 | 標準（最もバランスが良い） |
| 660×400 | 1.65:1 | やや横長 |
| 620×400 | 1.55:1 | やや正方形寄り |

### 実装推奨

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 400">
  <!-- 内部パディング: 25px -->
  <!-- 実効描画エリア: 590×350 -->
</svg>
```

### 情報密度ガイドライン

- **テキストサイズ**: 12-16px（小さめ）
- **要素間隔**: 15px
- **最大要素数**: 4-6個（コンパクト）
- **線の太さ**: 2px（メイン）、1px（補助）

**重要:** 横配置レイアウトは画像エリアが限られるため、情報を詰め込みすぎない。

---

## 3. Diagram-Only Layout（図のみレイアウト）

### 利用可能スペース計算

```
画像エリア:
  - 幅: 1280px × 75% = 960px
  - 高: 720px × 60% (vh) = 432px
```

### 最適アスペクト比

**推奨: 2.0:1 ~ 2.3:1 (ワイド)**

| 推奨サイズ | アスペクト比 | 用途 |
|-----------|------------|------|
| **900×420** | 2.14:1 | 標準（タイムライン・フロー） |
| 950×420 | 2.26:1 | 長いフローチャート |
| 850×420 | 2.02:1 | コンパクトな図 |

### 実装推奨

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 420">
  <!-- 内部パディング: 30px -->
  <!-- 実効描画エリア: 840×360 -->
</svg>
```

### 情報密度ガイドライン

- **テキストサイズ**: 14-20px（大きめOK）
- **要素間隔**: 25px
- **最大要素数**: 7-10個（横並びステップ）
- **線の太さ**: 3px（メイン）、1.5px（補助）

**最適な用途:** プロセスフロー、タイムライン、ステップバイステップ図解

---

## 📊 現在のSVG分析結果

### 統計（25個のSVG分析）

- **平均アスペクト比**: 1.62:1
- **範囲**: 1.00:1 ~ 2.67:1
- **分布**:
  - ワイド (2:1+): 8個 (32%)
  - ワイドスクリーン (16:9): 1個 (4%)
  - 伝統的 (4:3): 10個 (40%)
  - カスタム (1:1.3): 6個 (24%)

### 改善が必要なSVG

| ファイル | 現在 | 推奨 | 理由 |
|---------|------|------|------|
| diagram_02_role_change.svg | 2.67:1 | 2.0:1 | 横長すぎる（horizontalに不向き） |
| diagram_08_er_to_code.svg | 2.57:1 | 2.0:1 | 横長すぎる |
| diagram_11_tdd_cycle.svg | 1.0:1 | 1.6:1 | 正方形（スペース無駄） |
| diagram_19_common_failures.svg | 1.0:1 | 1.6:1 | 正方形（スペース無駄） |

---

## 🎯 レイアウト別最適比率まとめ

| レイアウト | 最適アスペクト比 | 推奨サイズ | 情報密度 |
|-----------|-----------------|-----------|---------|
| **Default** | 2.5:1 | 850×350 | 中〜高 |
| **Horizontal-left/right** | 1.6:1 | 640×400 | 中 |
| **Diagram-only** | 2.1:1 | 900×420 | 高 |

---

## 📝 情報密度を最大化するSVG設計原則

### 1. 内部マージンの最適化

```
推奨内部マージン:
  - Default/Diagram-only: 30px
  - Horizontal: 25px
  - 最小: 20px（密度重視）
  - 最大: 40px（余裕重視）
```

### 2. テキストサイズの選択

| 用途 | フォントサイズ | 視認距離 |
|------|-------------|---------|
| タイトル | 24-32px | 遠くから |
| ラベル | 14-18px | 通常 |
| 補足 | 12-14px | 近くから |
| 最小 | 10px | 非推奨 |

### 3. 要素配置の最適化

**密度が高すぎる例（❌）:**
- 10個以上の要素
- 要素間隔 < 15px
- テキスト < 12px
- 重なり合う要素

**適切な密度（✅）:**
- 5-8個の要素
- 要素間隔 20-25px
- テキスト 14-18px
- 明確な視覚的階層

### 4. 色使いの最適化

```css
/* 情報密度が高い図での推奨カラーパレット */
背景: #FFFFFF または #F5F5F5
メイン要素: #2196F3, #4CAF50, #FF9800
強調: #F44336
テキスト: #212121 (濃い), #757575 (薄い)
罫線: #E0E0E0
```

**対比比率:** 最低 4.5:1（WCAG AA準拠）

---

## 🔧 SVG最適化ワークフロー

### Step 1: 要件定義

1. どのレイアウトで使う？ → アスペクト比決定
2. 情報量は？ → 要素数決定
3. 強調ポイントは？ → サイズ配分決定

### Step 2: デザイン

```svg
<!-- 推奨テンプレート: Horizontal Layout用 -->
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 400">
  <defs>
    <style>
      .title { font-size: 20px; font-weight: bold; }
      .label { font-size: 14px; }
      .line { stroke-width: 2px; stroke: #2196F3; }
    </style>
  </defs>

  <!-- 内部マージン25px確保 -->
  <g transform="translate(25, 25)">
    <!-- 実効エリア: 590×350 -->

    <!-- コンテンツここに配置 -->

  </g>
</svg>
```

### Step 3: 検証

```bash
# アスペクト比確認
python3 analyze_svg_aspect_ratios.py

# ビルドして確認
npx @marp-team/marp-cli@latest all_slides.md -o test.html --html
```

### Step 4: 調整

- 余白が多すぎる → viewBoxを小さく
- 要素が詰まりすぎ → 要素間隔を広げる
- テキストが読めない → フォントサイズ拡大
- 情報が入らない → 要素を減らすか、アスペクト比を変更

---

## 📐 具体的な変換例

### 例1: diagram_02_role_change.svg

**現在:**
```svg
<svg viewBox="0 0 800 300">  <!-- 2.67:1 -->
```

**推奨（Horizontal用）:**
```svg
<svg viewBox="0 0 640 400">  <!-- 1.60:1 -->
```

**変更理由:**
- 現在: 2.67:1は横長すぎてHorizontalレイアウトで縦方向に余白大
- 推奨: 1.60:1なら利用可能スペース(634×396)にぴったり
- 結果: 縦方向の情報量+30%増加可能

### 例2: diagram_11_tdd_cycle.svg

**現在:**
```svg
<svg viewBox="0 0 500 500">  <!-- 1.0:1 正方形 -->
```

**推奨（Horizontal用）:**
```svg
<svg viewBox="0 0 640 400">  <!-- 1.60:1 -->
```

**変更理由:**
- 現在: 正方形なので横方向に余白が大きい
- 推奨: 横方向にステップを追加できる
- 結果: 情報量+60%増加可能

---

## 🎨 レイアウト選択フローチャート

```
SVGを配置したい
  │
  ├─ テキストも一緒に表示？
  │   ├─ YES → Horizontal Layout
  │   │         推奨: 640×400 (1.6:1)
  │   │         特徴: コンパクト、5-6要素
  │   │
  │   └─ NO → Diagram-only Layout
  │             推奨: 900×420 (2.1:1)
  │             特徴: ワイド、7-10要素
  │
  └─ 通常のスライド？
      └─ YES → Default Layout
                推奨: 850×350 (2.5:1)
                特徴: バランス型、6-8要素
```

---

## 🔍 チェックリスト

新しいSVGを作成する際のチェックリスト：

- [ ] レイアウトタイプを確認
- [ ] 推奨アスペクト比に合わせる
- [ ] 内部マージン25-30px確保
- [ ] フォントサイズ12px以上
- [ ] 要素間隔20px以上
- [ ] 要素数10個以下
- [ ] 色の対比比率4.5:1以上
- [ ] ビルドして実際に確認
- [ ] 複数レイアウトでテスト

---

## 📈 期待される改善効果

### Before（現状）

- アスペクト比がバラバラ（1.0:1 ~ 2.67:1）
- 余白が多い（特に正方形SVG）
- 情報密度が低い
- レイアウトによって見え方が異なる

### After（最適化後）

- アスペクト比が統一（レイアウト別）
- 余白を最小化（+25%情報量増加）
- 情報密度が向上
- 一貫した視覚体験

### 定量的効果予測

| 指標 | 改善 |
|------|------|
| 情報量 | +25-30% |
| 余白削減 | -40% |
| 可読性 | +15% |
| 一貫性 | +50% |

---

## 🛠️ ツールとリソース

### 作成ツール

1. **Figma** - ベクター図作成
2. **draw.io** - フローチャート
3. **Mermaid** - コードから図生成
4. **Adobe Illustrator** - 高度な図

### 検証ツール

```bash
# アスペクト比分析
python3 analyze_svg_aspect_ratios.py

# ビルド
npx @marp-team/marp-cli@latest all_slides.md -o index.html --html

# プレビュー
open index.html  # or python3 -m http.server
```

---

## 📚 参考情報

### 標準アスペクト比

| 名称 | 比率 | 用途 |
|------|------|------|
| 正方形 | 1:1 | アイコン、ロゴ |
| 4:3 | 1.33:1 | 伝統的なプレゼン |
| 16:10 | 1.6:1 | **推奨: Horizontal** |
| 16:9 | 1.78:1 | HD動画、現代的 |
| 21:9 | 2.33:1 | ウルトラワイド |
| カスタム | 2.5:1 | **推奨: Default** |

### WCAG アクセシビリティ基準

- **AA準拠**: テキスト対比4.5:1以上
- **AAA準拠**: テキスト対比7:1以上
- **最小フォントサイズ**: 12px（推奨14px+）

---

## ✅ まとめ

### 重要ポイント

1. **レイアウトごとに最適なアスペクト比が異なる**
   - Horizontal: 1.6:1
   - Diagram-only: 2.1:1
   - Default: 2.5:1

2. **情報密度を上げるには**
   - 余白を最小化（内部マージン25-30px）
   - 要素間隔を適切に（20px）
   - フォントサイズを最適化（12-18px）

3. **一貫性が重要**
   - 同じレイアウトでは同じアスペクト比
   - 同じスタイルガイド（色・フォント・線幅）
   - 同じ情報密度レベル

### 次のアクション

1. 現在のSVGを分析（完了）
2. アスペクト比が大きく外れているSVGを特定
3. 優先度の高いものから再作成
4. ビルドして確認
5. フィードバックに基づき調整

---

**最終更新:** 2025-10-31
**バージョン:** 1.0
