# SVG作成: 全フェーズ統合

**TDDサイクル全フェーズのSVGダイアグラムを一括作成**

このコマンドは、TDDサイクルの5つのフェーズすべてのSVGダイアグラムを順次作成します。

## 作成するSVG一覧

1. **diagram_plan_phase.svg** - 📋 PLANフェーズ
2. **diagram_red_phase.svg** - 🔴 REDフェーズ
3. **diagram_green_phase.svg** - 🟢 GREENフェーズ
4. **diagram_refactor_phase.svg** - 🔧 REFACTORフェーズ
5. **diagram_verify_phase.svg** - ✅ VERIFYフェーズ

## 実行順序

以下の順序で各コマンドを実行します：

### 1. PLAN（計画）フェーズ
```
/svg-plan
```
要件定義、受け入れ条件、タスク分解の視覚化

### 2. RED（テスト失敗）フェーズ
```
/svg-red
```
失敗するテストを先に書く重要性の視覚化

### 3. GREEN（テスト成功）フェーズ
```
/svg-green
```
最小実装でテストを通す原則の視覚化

### 4. REFACTOR（リファクタリング）フェーズ
```
/svg-refactor
```
品質改善のBefore/After比較の視覚化

### 5. VERIFY（検証）フェーズ
```
/svg-verify
```
品質確認とTrust but Verify原則の視覚化

## 全体フロー

```
📋 PLAN → 🔴 RED → 🟢 GREEN → 🔧 REFACTOR → ✅ VERIFY
```

## 実行手順

1. **前提確認:**
   - `assets/diagrams/` ディレクトリが存在すること
   - 書き込み権限があること
   - 既存のSVGファイルをバックアップ（必要に応じて）

2. **順次実行:**
   各フェーズのSVGを順番に作成します。
   各作成後、必ず品質検証を実行してください。

3. **品質検証:**
   すべてのSVG作成後、一括で境界チェック：
   ```bash
   python scripts/slides/validate_svg_bounds.py assets/diagrams/diagram_*_phase.svg
   ```

4. **視覚確認:**
   - ブラウザで各SVGを直接開いて確認
   - Marpスライドに埋め込んでレンダリング確認

## 統合後の確認項目

### ✅ 各SVGの品質確認
- [ ] オーバーフローなし
- [ ] オーバーラップなし
- [ ] テキストが読みやすい
- [ ] 縦横比が16:9
- [ ] viewBoxが1600x900
- [ ] 情報量が適切

### ✅ 統一性の確認
- [ ] カラーパレットの一貫性
- [ ] フォントサイズの統一
- [ ] レイアウト原則の統一
- [ ] 絵文字の使用が一貫している

### ✅ ドキュメント連携
- [ ] スライドから参照できる
- [ ] ファイル名が正しい
- [ ] パスが正しい（`../assets/diagrams/`）

## SVG仕様の統一

すべてのSVGは以下の仕様で統一されています：

### 基本仕様
- **viewBox:** `0 0 1600 900`
- **縦横比:** 16:9
- **背景色:** `#FFFFFF`
- **エンコーディング:** UTF-8
- **改行コード:** LF

### フォント指定
- **日本語:** 'Noto Sans JP', sans-serif
- **英数字:** 'Arial', sans-serif

### カラーパレット
- **PLAN:** #00146E（濃紺）
- **RED:** #DC143C（赤）
- **GREEN:** #228B22（フォレストグリーン）
- **REFACTOR:** #FF8C00（ダークオレンジ）
- **VERIFY:** #4169E1（ロイヤルブルー）

### レイアウト原則
- **行間:** 35-40px
- **段落間:** 50-60px
- **ボックス内パディング:** 25-30px
- **要素間の最小余白:** 30px

## トラブルシューティング

### 問題: オーバーフローが発生する
**解決策:**
- テキストの折り返しを確認
- フォントサイズを調整
- 要素の配置を再計算

### 問題: テキストが重なる
**解決策:**
- 行間を広げる
- 要素間の余白を増やす
- レイアウトを見直す

### 問題: 情報量が多すぎる
**解決策:**
- 重要な情報に絞る
- フォントサイズを調整
- カラム数を見直す

## 完了後のアクション

1. **Git コミット:**
   ```bash
   git add assets/diagrams/diagram_*_phase.svg
   git commit -m "feat: Add TDD cycle phase diagrams (PLAN/RED/GREEN/REFACTOR/VERIFY)"
   ```

2. **スライドへの埋め込み:**
   各フェーズの説明スライドに対応するSVGを埋め込む

3. **ドキュメント更新:**
   README.mdや関連ドキュメントにSVGの説明を追加

## 使用例

### 一括作成（推奨）
```
/svg-all
```
このコマンド1つで、5つすべてのフェーズのSVGを順次作成します。

### 個別作成
特定のフェーズだけを更新したい場合：
```
/svg-plan      # PLANフェーズのみ
/svg-red       # REDフェーズのみ
/svg-green     # GREENフェーズのみ
/svg-refactor  # REFACTORフェーズのみ
/svg-verify    # VERIFYフェーズのみ
```

## 注意事項

- **実行時間:** 5つのSVG作成には15-30分程度かかります
- **品質優先:** 急いで作らず、各SVGの品質を確認しながら進めてください
- **検証必須:** 各SVG作成後、必ず `validate_svg_bounds.py` で検証してください
- **バックアップ:** 既存のSVGを上書きする場合は、事前にバックアップを取ってください

## 期待される成果

- **5つの高品質SVGダイアグラム**
  - 情報が豊富で読みやすい
  - オーバーフロー・オーバーラップなし
  - TDDサイクルを明確に視覚化

- **統一されたデザイン**
  - カラーパレットの一貫性
  - フォントとレイアウトの統一
  - プロフェッショナルな仕上がり

- **スライド品質の向上**
  - 視覚的にわかりやすい説明
  - 学習効果の向上
  - プレゼンテーションの完成度アップ
